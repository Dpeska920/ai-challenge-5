
Сама нейросеть не запоминает контекст и прошлые ответы. При запросе по API мы должны каждый раз передавать список messages. Обычно первым сообщением мы ставим один и тот же системный промпт, а дальше идут реплики пользователя и нейросети.

Но мы можем изменить системный промпт в любой момент. В таком случае нейросеть получит все сообщения с начала диалога, но уже с новой инструкцией во главе (старый системный промпт она не увидит). В дальнейшем она будет отвечать согласно новому заданию, учитывая при этом контекст переписки.

Получается, если сначала мы велели нейросети отвечать определенным образом, она это выполняла. После подмены промпта она не поймет, почему раньше давала такие ответы, и начнет следовать новым правилам. Однако стоит учитывать, что она видит свои старые сообщения в истории, поэтому может по инерции частично сохранять прошлый стиль общения.

Таким образом, мы можем прямо в ходе беседы с пользователем менять системный промпт, чтобы переключать поведение нейросети на разных этапах диалога.
