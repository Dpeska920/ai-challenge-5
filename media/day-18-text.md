# ðŸ“‘ ÐžÑ‚Ñ‡ÐµÑ‚: RAG Ð ÐµÑ€Ð°Ð½ÐºÐ¸Ð½Ð³ Ð¸ Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ (Day 18)

### 1. Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð²
* **Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ (Ð‘ÐµÐ· Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°):** ðŸŸ¡ ÐÐµÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾. Ð§Ð°ÑÑ‚Ð¾ Ñ‚ÑÐ½ÐµÑ‚ Ð¼ÑƒÑÐ¾Ñ€ (JSON, ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð¸) Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÐºÑÑ‚Ð°, Ð¿ÑƒÑ‚Ð°ÐµÑ‚ÑÑ Ð² Ñ€ÐµÐ»ÐµÐ²Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚Ð¸.
* **Cross-Encoder (`bge-reranker-base`):** ðŸŸ¢ Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾. Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ‡Ð¸ÑÑ‚Ð¸Ñ‚ Ð²Ñ‹Ð´Ð°Ñ‡Ñƒ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð² JS/ONNX ÑÑ€ÐµÐ´Ðµ.
* **LLM Reranking:** ðŸŸ£ Ð›ÑƒÑ‡ÑˆÐµÐµ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾. Ð“Ð»ÑƒÐ±Ð¾ÐºÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð´ÐµÑˆÐµÐ²Ñ‹Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸.

### 2. ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ: Query Expansion
Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ 2-3 Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ð¾Ð³Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° Ñ‡ÐµÑ€ÐµÐ· Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÑƒÑŽ LLM Ð¿ÐµÑ€ÐµÐ´ Ð¾Ð±Ñ€Ð°Ñ‰ÐµÐ½Ð¸ÐµÐ¼ Ðº Ð±Ð°Ð·Ðµ.
* **Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** Ð Ð°Ð´Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ð½Ð¾Ñ‚Ñ‹ Ð¿Ð¾Ð¸ÑÐºÐ° (Recall). ÐÐ°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ñ€Ð¾Ð¿ÑƒÑ‰ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸ Ð¿Ñ€ÑÐ¼Ð¾Ð¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ.

### 3. Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ° (LLM Ð¿Ð¾Ð´Ñ…Ð¾Ð´)
* **Ð Ð°ÑÑ…Ð¾Ð´:** ~3000 Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð² Ð½Ð° ÑÐ»Ð¾Ð¶Ð½Ñ‹Ð¹ Ñ†Ð¸ÐºÐ».
* **Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ:** ~0.22 Ñ€ÑƒÐ± (22 ÐºÐ¾Ð¿ÐµÐ¹ÐºÐ¸) Ð·Ð° Ð·Ð°Ð¿Ñ€Ð¾Ñ (Ð¿Ñ€Ð¸ Ñ‚Ð°Ñ€Ð¸Ñ„Ðµ 36Ñ€/500Ðº).
* **Ð’Ñ‹Ð²Ð¾Ð´:** Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð´Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð° Ð·Ð°Ð´Ð°Ñ‡.

### 4. Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° (Best Practice)
ÐžÐ¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð±Ð°Ð»Ð°Ð½Ñ Ñ†ÐµÐ½Ñ‹, ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°:

`User Query` -> **Small LLM (Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð²)** -> **RAG Search** -> **Cross-Encoder (Ð¤Ð¸Ð»ÑŒÑ‚Ñ€)** -> **Final Answer Generation**